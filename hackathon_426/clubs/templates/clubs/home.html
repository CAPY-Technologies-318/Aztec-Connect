{% extends 'clubs/base.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'clubs/home.css' %}">
<style>
    .recommendation-title {
        font-family: 'Times New Roman', Times, serif;
        font-size: 48px;
        color: white;
        margin: 2rem 0;
        margin-top: 5rem;
        text-align: center;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    .my-clubs-title {
        font-family: 'Times New Roman', Times, serif;
        font-size: 48px;
        color: white;
        margin: 2rem 0;
        margin-top: 6rem;
        text-align: center;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    {% if joined_clubs %}
    <!-- My Clubs Section -->
    <h2 class="my-clubs-title">My Clubs</h2>
    <div class="club-grid">
        {% for club in joined_clubs %}
        <div class="club-card">
            {% if club.logo %}
            <img src="{{ club.logo.url }}" alt="{{ club.name }}" class="club-image">
            {% else %}
            <img src="{% static 'clubs/images/default_club.jpg' %}" alt="{{ club.name }}" class="club-image">
            {% endif %}
            <div class="club-info">
                <div>
                    <h3 class="club-title">{{ club.name }}</h3>
                    <p class="club-description">{{ club.description }}</p>
                    {% if club.description|length > 150 %}
                    <a href="{% url 'club_detail' club.id %}" class="read-more-btn">Read More</a>
                    {% endif %}
                </div>
                <div class="button-group">
                    <a href="{% url 'club_detail' club.id %}" class="btn btn-danger text-white">View Details</a>
                    <a href="{% url 'remove_club' club.id %}" class="btn btn-outline-danger">Remove</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Recommendations Section -->
    <h2 class="recommendation-title">Top Lifting Clubs!</h2>
    <div class="club-grid">
        {% for club in recommended_clubs %}
        <div class="club-card">
            {% if club.logo %}
            <img src="{{ club.logo.url }}" alt="{{ club.name }}" class="club-image">
            {% elif club.image %}
            <img src="{% static 'clubs/images/'|add:club.image %}" alt="{{ club.name }}" class="club-image">
            {% else %}
            <img src="{% static 'clubs/images/default_club.jpg' %}" alt="{{ club.name }}" class="club-image">
            {% endif %}
            <div class="club-info">
                <div>
                    <h3 class="club-title">{{ club.name }}</h3>
                    <p class="club-description">{{ club.description }}</p>
                    {% if club.description|length > 150 and club.id %}
                    <a href="{% url 'club_detail' club.id %}" class="read-more-btn">Read More</a>
                    {% endif %}
                </div>
                {% if club.id %}
                <div class="button-group">
                    <a href="{% url 'club_detail' club.id %}" class="btn btn-danger text-white">View Details</a>
                    <a href="{% url 'join_club' club.id %}" class="btn btn-danger text-white">Join Club</a>
                </div>
                {% else %}
                <a href="{% url 'explore' %}" class="btn btn-danger text-dark">Learn More</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

    <a href="{% url 'explore' %}" class="explore-more">EXPLORE MORE</a>
</div>
{% endblock %}